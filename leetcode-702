'''
Docstring for Binary-Search-1.leetcode-702
Time Complexity: O(logn)
Space Complexity: O(1)
'''
# """
# This is ArrayReader's API interface.
# You should not implement it, or speculate about its implementation
# """
#class ArrayReader:
#    def get(self, index: int) -> int:

class Solution:

    def search(self, reader: 'ArrayReader', target: int) -> int:
    
        i = 1
        low = 0

        if reader.get(low) > target:
            return -1
        while i < 20001:
            high = i
            num = reader.get(high)
        
            num_low, num_high = reader.get(low), reader.get(high)
            print(low, high, num_low, num_high)
            if num_low <= target and target <= num_high:
                print(low,high,reader.get(low), reader.get(high))
                while low <= high:
                    mid = low + (high - low)//2
                    num_mid = reader.get(mid)

                    if num_mid == target:
                        return mid
                    if num_mid < target:
                        low = mid + 1
                    else:
                        high = mid - 1
            if num > target:
                print("break", num)
                break
            low = i
            i = i*2 
            print(i)

        return -1
        